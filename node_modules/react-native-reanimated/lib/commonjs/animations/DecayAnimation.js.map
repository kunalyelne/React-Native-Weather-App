{"version":3,"sources":["DecayAnimation.js"],"names":["DecayAnimation","Animation","constructor","config","_deceleration","deceleration","undefined","_velocity","velocity","start","value","_clock","Clock","state","finished","AnimatedValue","position","time","stop","getDefaultState"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,cAAN,SAA6BC,kBAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB;AACA,SAAKC,aAAL,GACED,MAAM,CAACE,YAAP,KAAwBC,SAAxB,GAAoCH,MAAM,CAACE,YAA3C,GAA0D,KAD5D;AAEA,SAAKE,SAAL,GAAiBJ,MAAM,CAACK,QAAxB;AACD;;AAEDC,EAAAA,KAAK,CAACC,KAAD,EAAQ;AACX,SAAKC,MAAL,GAAc,IAAIC,sBAAJ,EAAd;AACA,UAAMC,KAAK,GAAG;AACZC,MAAAA,QAAQ,EAAE,IAAIC,8BAAJ,CAAkB,CAAlB,CADE;AAEZP,MAAAA,QAAQ,EAAE,IAAIO,8BAAJ,CAAkB,KAAKR,SAAvB,CAFE;AAGZS,MAAAA,QAAQ,EAAEN,KAHE;AAIZO,MAAAA,IAAI,EAAE,IAAIF,8BAAJ,CAAkB,CAAlB;AAJM,KAAd;AAOA,UAAMZ,MAAM,GAAG;AACbE,MAAAA,YAAY,EAAE,KAAKD;AADN,KAAf;AAIA,WAAO,iBAAM,CACX,gBAAK,wBAAa,KAAKO,MAAlB,CAAL,EAAgC,CAAhC,EAAmC,CAAC,sBAAW,KAAKA,MAAhB,CAAD,CAAnC,CADW,EAEX,oBAAM,KAAKA,MAAX,EAAmBE,KAAnB,EAA0BV,MAA1B,CAFW,EAGX,gBAAKU,KAAK,CAACC,QAAX,EAAqB,qBAAU,KAAKH,MAAf,CAArB,CAHW,CAAN,CAAP;AAKD;;AAEDO,EAAAA,IAAI,GAAG,CACL;AACD;;AAED,SAAOC,eAAP,GAAyB;AACvB,WAAO;AACLH,MAAAA,QAAQ,EAAE,IAAID,8BAAJ,CAAkB,CAAlB,CADL;AAELD,MAAAA,QAAQ,EAAE,IAAIC,8BAAJ,CAAkB,CAAlB,CAFL;AAGLE,MAAAA,IAAI,EAAE,IAAIF,8BAAJ,CAAkB,CAAlB,CAHD;AAILP,MAAAA,QAAQ,EAAE,IAAIO,8BAAJ,CAAkB,CAAlB;AAJL,KAAP;AAMD;;AAvCoC;;eA0CxBf,c","sourcesContent":["import Animation from './Animation';\n\nimport decay from './decay';\nimport { block, clockRunning, startClock, stopClock, cond } from '../base';\nimport Clock from '../core/AnimatedClock';\nimport AnimatedValue from '../core/InternalAnimatedValue';\n\nclass DecayAnimation extends Animation {\n  constructor(config) {\n    super();\n    this._deceleration =\n      config.deceleration !== undefined ? config.deceleration : 0.998;\n    this._velocity = config.velocity;\n  }\n\n  start(value) {\n    this._clock = new Clock();\n    const state = {\n      finished: new AnimatedValue(0),\n      velocity: new AnimatedValue(this._velocity),\n      position: value,\n      time: new AnimatedValue(0),\n    };\n\n    const config = {\n      deceleration: this._deceleration,\n    };\n\n    return block([\n      cond(clockRunning(this._clock), 0, [startClock(this._clock)]),\n      decay(this._clock, state, config),\n      cond(state.finished, stopClock(this._clock)),\n    ]);\n  }\n\n  stop() {\n    // not implemented yet\n  }\n\n  static getDefaultState() {\n    return {\n      position: new AnimatedValue(0),\n      finished: new AnimatedValue(0),\n      time: new AnimatedValue(0),\n      velocity: new AnimatedValue(0),\n    };\n  }\n}\n\nexport default DecayAnimation;\n"]}